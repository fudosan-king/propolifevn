var is_chrome=!!window.chrome&&!is_opera,is_explorer=!!document.documentMode,isEdge=!is_explorer&&!!window.StyleMedia,is_firefox="undefined"!==typeof window.InstallTrigger,is_safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),is_opera=!!window.opera||0<=navigator.userAgent.indexOf(" OPR/");

function resetSearchForm(){
    $("#areadf").val('').trigger("change");
    $("#layoutdf").val('').trigger("change");
    $("#typedf").val('').trigger("change");
    $("#rentdf").val('').trigger("change");
    $("#sizeRentdf").val('').trigger("change");
    $("#sizedf").val('').trigger("change");
    $("#summitCondo").val('').trigger("change");
    $("#summitService").val('').trigger("change");
    $("#apartmentdf").val('').trigger("change");
    $("#chairtdf").val('').trigger("change");
    $("input:text").val("");
    $("input:hidden").each(function(){"office"!==$(this).val()&&"house"!==$(this).val()&&$(this).val("")})
}
$("#contactModal").on("hidden.bs.modal",function(d){d=$(".iframeContact").attr("src");$(".iframeContact").attr("src",d)});

$(function(){
    var selectCondo = $("#summitCondo").select2();
    selectCondo.on("select2:select", function(event){
        $("#summitService").val('').trigger("change");
        $("#summitService").val("");
        
        if ($("#summitCondo option:selected").data('dist') != '') {
            var dist = $("#summitCondo option:selected").data('dist');
            autoSelectDist(dist);
        }

        autoSelectLayout(1);
        if ($("#summitCondo").val() == '') {
            autoSelectLayout("");
        }
        
        $("#myform").submit();
    });
    
    var selectService = $("#summitService").select2();
    selectService.on("select2:select", function(event){
        $("#summitCondo").val('').trigger("change");
        $("#summitCondo").val("");
        
        if ($("#summitService option:selected").data('dist') != '') {
            var dist = $("#summitService option:selected").data('dist');
            autoSelectDist(dist);
        }

        autoSelectLayout(0);
        if ($("#summitService").val() == '') {
            autoSelectLayout("");
        }
        
        $("#myform").submit();
    });

    $('.boxCondition select').on('select2:select', function(){
        if ($(this).val() != '') {
            resetBoxCondo();
            resetBoxService();
        }
    }).on('select2:close', function(){
        resetBoxCondo();
        resetBoxService();
    });
});

function resetBoxCondo() {
    $('#summitCondo').val("").trigger('change.select2');
}

function resetBoxService() {
    $('#summitService').val("").trigger('change.select2');
}

function autoSelectDist(dist) {
    $('#areadf').val(dist).trigger('change.select2');
}

function autoSelectLayout(layout) {
    $('#layoutdf').val(layout).trigger('change.select2');
}
// #9735 fixed click btn save_estate_owners and scroll to top when show popup
$(document).ready(function() { 
    $('.save_estate_owners').click(function() { 
        if($('#myModal').data('bs.modal').isShown == true){
            $("html, body").animate({ scrollTop: 0 }, 0);
        }
    });
});