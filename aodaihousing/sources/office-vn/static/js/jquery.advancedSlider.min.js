!function(t){function i(i,e){function s(){if(Dt=Et.find(".slides"),Ht.settings.shuffle){var i=Dt.children().sort(function(){return.5-Math.random()});Dt.empty().append(i)}Dt.children().each(function(i){var e={};e.properties={},Lt.push(t(this)),t(this).data("image")&&(e.lazyImage=t(this).data("image"),e.lazyImageLoaded=!1);for(var s=0;s<t(this).children().length;s++){var n=t(this).children()[s];t(n).hasClass("thumbnail")||t(n).is("a")&&t(n).children("img.thumbnail").length?e.thumbnail=t(n).clone():e[t(n).attr("class")]=t(n)}if(!e.caption&&t(this).find(".caption").length&&(e.caption=t(this).find(".caption")),!e.html&&t(this).find(".html").length&&(e.html=t(this).find(".html")),Ht.settings.xmlSource)e.properties=Pt[i].properties,Pt[i]=e;else{for(s=0;s<ui.length;s++){n=ui[s];var o;Ht.settings.slideProperties&&Ht.settings.slideProperties[i]&&(o=Ht.settings.slideProperties[i][n]),e.properties[n]||(e.properties[n]=void 0==o?Ht.settings[n]:o)}Pt.push(e)}}),Dt.find("img.thumbnail").parent("a").remove(),Dt.find("img.thumbnail").remove(),Wt=Pt.length,n()}function n(){Et.addClass(Ht.settings.skin).css({width:Ht.settings.width,height:Ht.settings.height}).focus(function(){pi=!0,Et.addClass("focus")}).blur(function(){pi=!1,Et.hasClass("focus")&&Et.removeClass("focus")}),Ct=t('<div class="slider-main"></div>').appendTo(Et),t.browser.mozilla?Et.addClass("mozilla"):t.browser.webkit?Et.addClass("webkit"):t.browser.opera?Et.addClass("opera"):t.browser.msie&&(6==parseInt(t.browser.version)?Et.addClass("ie6"):7==parseInt(t.browser.version)?Et.addClass("ie7"):8==parseInt(t.browser.version)?Et.addClass("ie8"):9==parseInt(t.browser.version)&&Et.addClass("ie9")),kt=t('<div class="slide-wrapper"></div>').append(Dt).appendTo(Ct).hover(function(){if(Nt=!0,Ht.settings.timerAnimation&&Ht.settings.timerToggle&&"stopped"!=at&&!Rt){var t=Et.find(".timer-animation");di?t.css("filter",""):t.stop().animate({opacity:1},Ht.settings.timerFadeDuration)}Gt&&Ht.settings.lightboxIconToggle&&(t=kt.find(".lightbox-icon"),di?t.css("filter",""):t.stop().animate({opacity:1},Ht.settings.lightboxIconFadeDuration)),Ht.settings.pauseSlideshowOnHover&&!Xt&&P(),_t&&Ht.settings.captionToggle&&I(),Ht.settings.slideArrows&&Ht.settings.slideArrowsToggle&&(di?Et.find(".slide-arrows a").stop().show():Et.find(".slide-arrows a").stop().animate({opacity:1},Ht.settings.slideArrowsShowDuration)),Ht.settings.slideshowControls&&Ht.settings.slideshowControlsToggle&&(di?Et.find(".slideshow-controls").stop().show():Et.find(".slideshow-controls").stop().animate({opacity:1},Ht.settings.slideshowControlsShowDuration))},function(){if(Nt=!1,Ht.settings.timerAnimation&&Ht.settings.timerToggle&&"stopped"!=at&&!Rt){var t=Et.find(".timer-animation");di?t.css("opacity",0):t.stop().animate({opacity:0},Ht.settings.timerFadeDuration)}Gt&&Ht.settings.lightboxIconToggle&&(t=kt.find(".lightbox-icon"),di?t.css("opacity",0):t.stop().animate({opacity:0},Ht.settings.lightboxIconFadeDuration)),Ht.settings.pauseSlideshowOnHover&&!jt&&!qt&&!Xt&&L(),_t&&Ht.settings.captionToggle&&E(),Ht.settings.slideArrows&&Ht.settings.slideArrowsToggle&&(di?Et.find(".slide-arrows a").stop().hide():Et.find(".slide-arrows a").stop().animate({opacity:0},Ht.settings.slideArrowsHideDuration)),Ht.settings.slideshowControls&&Ht.settings.slideshowControlsToggle&&(di?Et.find(".slideshow-controls").stop().hide():Et.find(".slideshow-controls").stop().animate({opacity:0},Ht.settings.slideshowControlsHideDuration))}),"swipe"==Ht.settings.effectType&&t('<div class="swipeable-container"></div>').appendTo(kt).append(Dt),Dt.find(".slide").each(function(i){var e=t(this),s=e.find("img.image");e=e.find(".caption");var n=Pt[i],o=n.properties;s.length&&(s.data("index",i),n.imagePath=s.attr("src")),e.length&&(i=parseFloat(o.captionBackgroundOpacity),s=o.captionBackgroundColor,o=t('<div class="caption-container"></div>').appendTo(e.parent()),o=t('<div class="wrapper"></div>').appendTo(o),t('<div class="background"></div>').css({opacity:i,"background-color":s}).appendTo(o),e.appendTo(o))}),Dt.find(".html video.video").each(function(){var i=t(this),e=i.parent();if(null!=navigator.userAgent.match(/iPad/i)||null!=navigator.userAgent.match(/iPod/i)||null!=navigator.userAgent.match(/iPhone/i)){var s=i[0].outerHTML;i.remove(),e.html(s),i=e.find("video"),i[0].load()}i.hasClass("video-js")&&VideoJS(i.attr("id"),i.data("video"))}),Dt.find(".html video.sublime-video").length&&window.sublimevideo&&sublimevideo.ready(function(){Dt.find(".html video.sublime-video").each(function(){sublimevideo.prepare(t(this).attr("id"))})}),Ft=Ht.settings.slideStart;var i=window.location.hash;if(i){i=i.substring(1);var e=i.split("-");e=parseInt(e.pop()),i=i.replace("-"+e,""),Et.attr("id")==i&&e>=0&&Wt-1>=e&&(Ft=e)}Ht.settings.slideArrows&&l(),Ht.settings.slideButtons&&c(),Ht.settings.shadow&&p(),("scroller"==Ht.settings.thumbnailType||"tooltipAndScroller"==Ht.settings.thumbnailType)&&V(),Ht.settings.slideshowControls&&h(),Ht.settings.keyboardNavigation&&d(),Ht.settings.lightbox&&Et.find("a[rel^='slider-lightbox']").prettyPhoto({social_tools:"",deeplinking:!1,overlay_gallery:!1,theme:Ht.settings.lightboxTheme,opacity:Ht.settings.lightboxOpacity,openLightbox:function(){jt||(jt=!0,Et.blur(),Xt||P())},callback:function(){jt&&(jt=!1,Et.focus(),Xt||L())}}),ri="none",o(),f(Ft),t(window).resize(o)}function o(){var i=0,e=0;if(("scroller"==Ht.settings.thumbnailType||"tooltipAndScroller"==Ht.settings.thumbnailType)&&("horizontal"==Ht.settings.thumbnailOrientation?Ct.css("height",Et.height()-lt.outerHeight(!0)):"vertical"==Ht.settings.thumbnailOrientation&&Ct.css("width",Et.width()+30-lt.outerWidth(!0))),Ht.settings.shadow){var s=Ct.find(".shadow");if(Ct.width()>=400){s.css("display","block");var n=s.find(".shadow-middle"),o=s.find(".shadow-left").width()+s.find(".shadow-right").width(),r=parseInt(s.css("height"))+parseInt(s.css("margin-top"));s.css("width",Ct.width()),n.css("width",s.width()-o),i=r>i?r:i}else s.css("display","none")}if(Ht.settings.slideButtons){if(s=Ct.find(".slide-buttons"),n=s.find("buttons-middle"),o=n.find("buttons-inner"),r=parseInt(s.css("height"))+parseInt(s.css("margin-top")),Ht.settings.slideButtonsContainerCenter){var l=(Ct.width()-s.width())/2;s.css("left",l)}Ht.settings.slideButtonsCenter&&(l=(n.width()-o.width())/2,o.css("left",l)),i=r>i?r:i}ci=i,i+=parseInt(kt.css("border-top-width"))+parseInt(kt.css("border-bottom-width")),e+=parseInt(kt.css("border-left-width"))+parseInt(kt.css("border-right-width")),kt.css({height:Ct.height()-i,width:Ct.width()-e}),xt=kt.width(),Mt=kt.height(),Dt.find(".slide").each(function(i){var e=t(this),s=e.find("img.image"),n=Pt[i].properties.alignType;if(s.length&&(s[0].complete||"complete"==s[0].readyState?a(s,n):(s.css("visibility","hidden"),s.load(function(){s.css("visibility",""),a(s,n)}))),"swipe"==Ht.settings.effectType){var o=-1!=At?At:Ft;"horizontal"==Ht.settings.swipeOrientation?(Dt.css("left",-o*(kt.width()+Ht.settings.swipeSlideDistance)),e.css("left",i*(kt.width()+Ht.settings.swipeSlideDistance))):"vertical"==Ht.settings.swipeOrientation&&(Dt.css("top",-o*(kt.height()+Ht.settings.swipeSlideDistance)),e.css("top",i*(kt.height()+Ht.settings.swipeSlideDistance)))}}),"tooltipAndScroller"!=Ht.settings.thumbnailType&&"scroller"!=Ht.settings.thumbnailType||"proportionalFit"==Ht.settings.scaleType||(R(),Y(),Ht.settings.thumbnailMouseScroll&&X()),i={type:"doSliderLayout"},t.isFunction(Ht.settings.doSliderLayout)&&Ht.settings.doSliderLayout.call(this,i)}function a(t,i){switch(t.data("init")||(t.data("init",!0),t.data("width",t.width()),t.data("height",t.height()),t.data("state","loaded"),Ht.settings.allowScaleUp||t.css({maxWidth:t.data("width"),maxHeight:t.data("height")})),Ht.settings.scaleType){case"exactFit":t.css({width:"100%",height:"100%"});break;case"insideFit":t.width()/t.height()>=kt.width()/kt.height()?t.css({width:"100%",height:"auto"}):t.css({width:"auto",height:"100%"});break;case"outsideFit":t.width()/t.height()<=kt.width()/kt.height()?t.css({width:"100%",height:"auto"}):t.css({width:"auto",height:"100%"});break;case"proportionalFit":if(t.data("index")==At&&(t[0].complete||"complete"==t[0].readyState)&&(kt.css("width",xt),kt.css("height",Mt),t.css({width:"100%",height:"auto"}),kt.css("height",t.height()),Ct.css("height",kt.outerHeight(!0)+ci),"scroller"==Ht.settings.thumbnailType||"tooltipAndScroller"==Ht.settings.thumbnailType?("horizontal"==Ht.settings.thumbnailOrientation?Et.css("height",Ct.height()+lt.outerHeight(!0)):Et.css("height",Ct.height()),R(),Y(),Ht.settings.thumbnailMouseScroll&&X()):Et.css("height",Ct.height()),-1!=zt)){var e=Lt[zt].find("img.image"),s=Pt[zt].properties.alignType;e.length&&r(e,s)}}r(t,i)}function r(t,i){var e=t.width(),s=t.height();switch(i){case"leftTop":t.css({left:0,top:0});break;case"leftCenter":t.css({left:0,top:"50%","margin-top":.5*-s});break;case"leftBottom":t.css({left:0,bottom:0});break;case"centerTop":t.css({left:"50%",top:0,"margin-left":.5*-e});break;case"centerCenter":t.css({left:"50%",top:"50%","margin-left":.5*-e,"margin-top":.5*-s});break;case"centerBottom":t.css({left:"50%",bottom:0,"margin-left":.5*-e});break;case"rightTop":t.css({right:0,top:0});break;case"rightCenter":t.css({right:0,top:"50%","margin-top":.5*-s});break;case"rightBottom":t.css({right:0,bottom:0});break;case"default":t.css({left:"50%",top:"50%","margin-left":.5*-e,"margin-top":.5*-s})}}function l(){var i=t('<div class="slide-arrows"></div>').appendTo(kt),e=t('<a class="previous"></a>').appendTo(i).click(function(){ri="previousButton",b()});i=t('<a class="next"></a>').appendTo(i).click(function(){ri="nextButton",m()}),Ht.settings.slideArrowsToggle&&(di?(e.hide(),i.hide()):(e.css("opacity",0),i.css("opacity",0)))}function h(){var i=t('<div class="slideshow-controls"></div>').appendTo(kt),e=Ht.settings.slideshow?"pause":"play";at=Ht.settings.slideshow?"playing":"stopped",i.addClass(e).click(function(){"playing"==at||"paused"==at?z():"stopped"==at&&A()}),Ht.settings.slideshowControlsToggle&&(di?i.hide():i.css("opacity",0))}function c(){var i=Wt,e=t('<div class="slide-buttons"></div>').appendTo(Ct);t('<div class="left"></div>').appendTo(e);var s=t('<div class="middle"></div>').appendTo(e);t('<div class="right"></div>').appendTo(e),s=t('<div class="buttons-inner"></div>').appendTo(s);for(var n=0;i>n;n++){var o=t('<a rel="'+n+'"></a>').appendTo(s);Ht.settings.slideButtonsNumber&&t('<div class="number">'+(n+1)+"</div>").appendTo(o),o.hover(function(){var i=parseInt(t(this).attr("rel"));t(this).hasClass("select")||t(this).addClass("over"),("tooltip"==Pt[i].properties.thumbnailType||"tooltipAndScroller"==Pt[i].properties.thumbnailType)&&u(i)},function(){var i=parseInt(t(this).attr("rel"));t(this).hasClass("select")||t(this).removeClass("over"),("tooltip"==Pt[i].properties.thumbnailType||"tooltipAndScroller"==Pt[i].properties.thumbnailType)&&g()}),o.click(function(){ri="button",f(parseInt(t(this).attr("rel")))})}Ht.settings.slideButtonsToggle&&(di?e.hide():e.css("opacity",0),Et.hover(function(){di?e.show():e.stop().animate({opacity:1},Ht.settings.slideButtonsShowDuration)},function(){di?e.hide():e.stop().animate({opacity:0},Ht.settings.slideButtonsHideDuration)}))}function d(){t(document).keydown(function(t){37==t.which&&(Ht.settings.keyboardNavigationOnFocusOnly&&pi||!Ht.settings.keyboardNavigationOnFocusOnly)?b():39==t.which&&(Ht.settings.keyboardNavigationOnFocusOnly&&pi||!Ht.settings.keyboardNavigationOnFocusOnly)?m():13==t.which&&pi&&Lt[At].children("a").length&&Lt[At].children("a").not(".thumbnail")[0].click()})}function p(){var i=t('<div class="shadow"></div>').appendTo(Ct);t('<div class="shadow-left"></div>').appendTo(i),t('<div class="shadow-middle"></div>').appendTo(i),t('<div class="shadow-right"></div>').appendTo(i)}function u(i){if(Pt[i].thumbnail){var e=Pt[i].thumbnail.is("a")?Pt[i].thumbnail.find("img"):Pt[i].thumbnail,s=e.attr("src"),n=e.attr("alt");e=t('<div class="thumbnail-wrapper"></div>').appendTo(Et.find(".buttons-inner"));var o=t('<div class="thumbnail"></div>').css({width:Ht.settings.thumbnailWidth,height:Ht.settings.thumbnailHeight}).appendTo(e);if(e.css({width:o.outerWidth(),height:o.outerHeight()}),n){var a=t('<div class="caption"></div>').appendTo(o),r=t('<div class="background"></div>').appendTo(a);n=t('<div class="content">'+n+"</div>").appendTo(a),r=r.css("opacity"),a.css("height",n.outerHeight(!0)),"top"==Ht.settings.thumbnailCaptionPosition?a.css("top",0):a.css("bottom",0)}a=Et.find(".buttons-inner a").eq(i),i=a.position().left-(e.outerWidth(!0)-a.width())/2,a=a.position().top-e.outerHeight(!0),di&&e.find("*").not(".background").css("filter","inherit"),e.css({left:i,top:a-Ht.settings.thumbnailSlideAmount,opacity:0}),t("<img/>").load(function(){o.css("background-image","url("+s+")")}).attr("src",s),di?(e.animate({top:a,opacity:1},Ht.settings.thumbnailSlideDuration,Ht.settings.thumbnailSlideEasing),e.find(".caption .background").animate({opacity:r},Ht.settings.thumbnailSlideDuration)):e.animate({top:a,opacity:1},Ht.settings.thumbnailSlideDuration,Ht.settings.thumbnailSlideEasing)}}function g(){var t=Et.find(".buttons-inner .thumbnail-wrapper");if(t.length){var i=t.find(".background");di&&i.animate({opacity:0},Ht.settings.thumbnailSlideDuration),t.animate({top:t.position().top-Ht.settings.thumbnailSlideAmount,opacity:0},Ht.settings.thumbnailSlideDuration,Ht.settings.thumbnailSlideEasing,function(){t.remove()})}}function f(i){if(i!=At){if(Rt)if(Ht.settings.overrideTransition)switch(It){case"slide":Lt[At].stop(!1,!0);break;case"fade":Lt[At].stop(!1,!0),-1!=zt&&Lt[zt].stop(!1,!0);break;case"slice":Vt.find(".slice").each(function(){clearTimeout(t(this).data("delay")),t(this).stop().remove()}),Vt.remove(),-1!=zt&&Lt[zt].css({visibility:""}),Lt[At].css("visibility","visible"),O()}else if("swipe"!=Ht.settings.effectType)return;if(Ht.settings.slideshow&&B(),Gt){Gt=!1;var e=kt.find(".lightbox-icon");di?e.remove():e.stop().animate({opacity:0},Ht.settings.lightboxIconFadeDuration,function(){e.remove()})}hi&&(hi.leaveVideo(),qt=!1),Rt=!0,zt=At,At=i,At!=Bt&&_t&&"swipe"!=Ht.settings.effectType&&(_t=!1,E(),li&&clearTimeout(li));var s=Pt[i],n=Lt[i].find("img.image");if(s.lazyImage&&!s.lazyImageLoaded){var o=t('<img class="image"/>').attr("src",Pt[i].lazyImage);n.attr("alt")&&o.attr("alt",n.attr("alt")),n.attr("title")&&o.attr("title",n.attr("title")),o.data("index",i),n.length?(o.prependTo(n.parent()),n.remove()):o.prependTo(Lt[i]),n=o,s.imagePath=n.attr("src"),s.lazyImageLoaded=!0}if(!n.length||"loaded"==n.data("state")&&"proportionalFit"!=Ht.settings.scaleType)S();else{var r=s.properties.alignType;"swipe"==Ht.settings.effectType?(n.css("visibility","hidden"),n[0].complete||"complete"==n[0].readyState?(n.css("visibility",""),a(n,r)):(w(Lt[n.data("index")]),n.load(function(){n.css("visibility",""),a(n,r),T(Lt[n.data("index")])}).error(function(){T(Lt[n.data("index")]),Rt=!1})),S()):n[0].complete||"complete"==n[0].readyState?(a(n,r),S()):(w(kt),n.load(function(){a(n,r),T(kt),S()}).error(function(){T(kt),Rt=!1}))}Ht.settings.slideButtons&&(o=Et.find(".buttons-inner"),o.find(".select").removeClass("select"),o.find("a").eq(i).attr("class","select")),("scroller"==Ht.settings.thumbnailType||"tooltipAndScroller"==Ht.settings.thumbnailType)&&(lt.find(".thumbnail.select").removeClass("select"),lt.find(".thumbnail[data-index="+i+"]").removeClass("over").addClass("select"),Ht.settings.thumbnailSync&&(i=Math.floor(i/(Zt*ei)),i!=ti&&q(i))),s={type:"slideOpen",index:At,data:s},t.isFunction(Ht.settings.slideOpen)&&Ht.settings.slideOpen.call(this,s)}}function m(){f(At==Wt-1?0:At+1)}function b(){f(0==At?Wt-1:At-1)}function v(i){var e=[];if(!(1>=Wt))for(2==Wt?0==i?e.push(1):1==i&&e.push(0):Wt>=3&&e.push(0==i?Wt-1:i-1,i==Wt-1?0:i+1),i=0;i<e.length;i++){var s=e[i],n=Pt[s];if(n.lazyImage&&!n.lazyImageLoaded){var o=Lt[s].find("img.image"),r=t('<img class="image"/>').attr("src",n.lazyImage),l=n.properties.alignType;o.attr("alt")&&r.attr("alt",o.attr("alt")),o.attr("title")&&r.attr("title",o.attr("title")),r.data("index",s),o.length?(r.prependTo(o.parent()),o.remove()):r.prependTo(Lt[s]),o=r,n.lazyImageLoaded=!0,n.imagePath=o.attr("src"),o[0].complete||"complete"==o[0].readyState?a(o,l):o.load(function(){a(o,l)})}}}function w(i){if(!i.find(".preloader").length){var e=t('<div class="preloader"></div>').hide().appendTo(i),s=.5*(i.outerWidth(!0)-e.width());i=.5*(i.outerHeight(!0)-e.height()),e.fadeIn(300),e.css({left:s,top:i})}}function T(t){t.find(".preloader").stop().remove()}function y(t){t.preventDefault()}function S(){var i=Pt[At].properties.effectType;!Ht.settings.initialEffect&&ai&&(i="none",ai=!1),"swipe"==Ht.settings.effectType?i="swipe":"random"==i&&(i=nt(["slice","slide","fade"])),It=i;var e={type:"transitionStart",index:At,data:Pt[At]};switch(t.isFunction(Ht.settings.transitionStart)&&Ht.settings.transitionStart.call(this,e),i){case"none":-1!=zt&&Lt[zt].css("visibility",""),Lt[At].css("visibility","visible"),O();break;case"fade":C();break;case"slide":k();break;case"swipe":D();break;case"slice":x();break;default:C()}}function C(){var i,e=Pt[At].properties,s=Lt[At],n=parseInt(e.fadeInDuration),o=e.fadeInEasing,a=parseInt(e.fadeOutDuration);e=e.fadeOutEasing,di&&s.find("*").each(function(){t(this).hasClass(".caption-container")||1==t(this).parents(".caption-container").length||t(this).css("filter","inherit")}),s.css({visibility:"visible",opacity:0}).animate({opacity:1},n,o,function(){s.css({opacity:""}),di&&s.find("*").each(function(){t(this).hasClass(".caption-container")||1==t(this).parents(".caption-container").length||t(this).css("filter","")}),O()}),-1!=zt&&(i=Lt[zt],di&&i.find("*").each(function(){t(this).hasClass(".caption-container")||1==t(this).parents(".caption-container").length||t(this).css("filter","inherit")}),i.animate({opacity:0},a,e,function(){i.css({visibility:"",opacity:""}),di&&i.find("*").each(function(){t(this).hasClass(".caption-container")||1==t(this).parents(".caption-container").length||t(this).css("filter","")})}))}function k(){var t,i=Pt[At].properties,e=Lt[At],s=i.slideDirection,n=parseInt(i.slideDuration),o=i.slideEasing;i=i.slideLoop,-1!=zt&&(t=Lt[zt]),"random"==s&&(s=nt(["autoHorizontal","autoVertical","rightToLeft","leftToRight","topToBottom","bottomToTop"])),e.css("visibility","visible");var a,r,l={};switch(s){case"autoHorizontal":a="left",r=0==At&&zt==Wt-1&&i?kt.width():At==Wt-1&&0==zt&&i?-kt.width():At>zt?kt.width():-kt.width();break;case"autoVertical":a="top",r=0==At&&zt==Wt-1&&i?kt.height():At==Wt-1&&0==zt&&i?-kt.height():At>zt?kt.height():-kt.height();break;case"rightToLeft":a="left",r=kt.width();break;case"leftToRight":a="left",r=-kt.width();break;case"topToBottom":a="top",r=-kt.height();break;case"bottomToTop":a="top",r=kt.height();break;default:a="left",r=At>zt?kt.width():-kt.width()}e.css(a,r),l[a]=0,e.animate(l,{duration:n,easing:o,complete:function(){e.css({left:"",top:""}),-1!=zt&&t.css({visibility:"",left:"",top:""}),O()},step:function(i){t&&t.css(a,i-r)}})}function D(){if(-1==zt){Dt.css("overflow","visible").bind("dragstart",y).find(".slide").each(function(i){var e=t(this);"horizontal"==Ht.settings.swipeOrientation?e.css({top:0,left:i*(kt.width()+Ht.settings.swipeSlideDistance),visibility:"visible"}):"vertical"==Ht.settings.swipeOrientation&&e.css({top:i*(kt.height()+Ht.settings.swipeSlideDistance),left:0,visibility:"visible"})}),Ht.settings.swipeGrabCursor&&Dt.addClass("grab");var i,e,s=!1,n=!1;Ht.settings.swipeTouchDrag&&"ontouchstart"in window&&(n=s=!0),!n&&Ht.settings.swipeMouseDrag&&(s=!0),"horizontal"==Ht.settings.swipeOrientation?(Dt.css("left",-Ft*(kt.width()+Ht.settings.swipeSlideDistance)),s&&Dt.swipe({threshold:Ht.settings.swipeThreshold,allowPageScroll:"vertical",swipeStatus:function(s,n,o,a){"start"==n?(i=parseInt(Dt.css("left")),Dt.is(":animated")&&Dt.stop(),s=t(s.target).closest("a"),s.length&&(s.unbind("click",y).bind("click",y),s.has("rel")&&s.unbind("click.prettyphoto")),Ht.settings.swipeGrabCursor&&Dt.removeClass("grab").addClass("grabbing")):"move"==n?(e=At==Wt-1&&"left"==o||0==At&&"right"==o?.2:1,"left"==o?Dt.css("left",i-a*e):"right"==o&&Dt.css("left",i+a*e)):"cancel"==n&&(Dt.stop().animate({left:-At*(kt.width()+Ht.settings.swipeSlideDistance)},Ht.settings.swipeBackDuration,Ht.settings.swipeEasing,function(){Rt&&O()}),Ht.settings.swipeGrabCursor&&Dt.removeClass("grabbing").addClass("grab"))},click:function(i){i=t(i.target).closest("a"),i.length&&(i.unbind("click",y),i.attr("rel")&&t.prettyPhoto&&i.bind("click.prettyphoto",t.prettyPhoto.initialize))},swipeLeft:function(){Wt-1>At?m():Dt.stop().animate({left:-At*(kt.width()+Ht.settings.swipeSlideDistance)},Ht.settings.swipeBackDuration,Ht.settings.swipeEasing,function(){Rt&&O()}),Ht.settings.swipeGrabCursor&&Dt.removeClass("grabbing").addClass("grab")},swipeRight:function(){At>0?b():Dt.stop().animate({left:-At*(kt.width()+Ht.settings.swipeSlideDistance)},Ht.settings.swipeBackDuration,Ht.settings.swipeEasing,function(){Rt&&O()}),Ht.settings.swipeGrabCursor&&Dt.removeClass("grabbing").addClass("grab")}})):"vertical"==Ht.settings.swipeOrientation&&(Dt.css("top",-Ft*(kt.height()+Ht.settings.swipeSlideDistance)),s&&Dt.swipe({threshold:Ht.settings.swipeThreshold,allowPageScroll:"horizontal",swipeStatus:function(s,n,o,a){"start"==n?(i=parseInt(Dt.css("top")),Dt.is(":animated")&&Dt.stop(),s=t(s.target).closest("a"),s.length&&(s.unbind("click",y).bind("click",y),s.has("rel")&&s.unbind("click.prettyphoto")),Ht.settings.swipeGrabCursor&&Dt.removeClass("grab").addClass("grabbing")):"move"==n?(e=At==Wt-1&&"up"==o||0==At&&"down"==o?.2:1,"up"==o?Dt.css("top",i-a*e):"down"==o&&Dt.css("top",i+a*e)):"cancel"==n&&(Dt.stop().animate({top:-At*(kt.height()+Ht.settings.swipeSlideDistance)},Ht.settings.swipeBackDuration,Ht.settings.swipeEasing,function(){Rt&&O()}),Ht.settings.swipeGrabCursor&&Dt.removeClass("grabbing").addClass("grab"))},click:function(i){i=t(i.target).closest("a"),i.length&&(i.unbind("click",y),i.attr("rel")&&t.prettyPhoto&&i.bind("click.prettyphoto",t.prettyPhoto.initialize))},swipeUp:function(){Wt-1>At?m():Dt.stop().animate({top:-At*(kt.height()+Ht.settings.swipeSlideDistance)},Ht.settings.swipeBackDuration,Ht.settings.swipeEasing,function(){Rt&&O()}),Ht.settings.swipeGrabCursor&&Dt.removeClass("grabbing").addClass("grab")},swipeDown:function(){At>0?b():Dt.stop().animate({top:-At*(kt.height()+Ht.settings.swipeSlideDistance)},Ht.settings.swipeBackDuration,Ht.settings.swipeEasing,function(){Rt&&O()}),Ht.settings.swipeGrabCursor&&Dt.removeClass("grabbing").addClass("grab")}})),O()}else"horizontal"==Ht.settings.swipeOrientation?Dt.stop().animate({left:-At*(kt.width()+Ht.settings.swipeSlideDistance)},Ht.settings.swipeDuration,Ht.settings.swipeEasing,function(){t.support.transition&&!Dt.is(":animated")?O():t.support.transition||O()}):"vertical"==Ht.settings.swipeOrientation&&Dt.stop().animate({top:-At*(kt.height()+Ht.settings.swipeSlideDistance)},Ht.settings.swipeDuration,Ht.settings.swipeEasing,function(){t.support.transition&&!Dt.is(":animated")?O():t.support.transition||O()})}function x(){var i=Pt[At],e=i.properties,s=e.sliceEffectType,n=e.htmlDuringTransition,o=parseInt(e.horizontalSlices),a=parseInt(e.verticalSlices),r=e.slicePattern,l=e.slicePoint,h=e.sliceStartPosition,c=parseFloat(e.sliceStartRatio),d=parseInt(e.sliceDuration),p=e.sliceEasing,u=parseInt(e.sliceDelay),g=1==e.sliceFade||"fade"==effectType?0:1,f=e.fadePreviousSlide,m=parseInt(e.fadePreviousSlideDuration),b=Math.floor(kt.width()/o),v=Math.floor(kt.height()/a);Lt[At].find("img.image").clone();var w=Lt[At].clone(),T=[];if(-1!=zt&&1==f){var y=Lt[zt];di&&y.find("*").each(function(){t(this).hasClass(".caption-container")||1==t(this).parents(".caption-container").length||t(this).css("filter","inherit")}),y.animate({opacity:0},m,function(){y.css({visibility:"",opacity:""}),di&&y.find("*").each(function(){t(this).hasClass(".caption-container")||1==t(this).parents(".caption-container").length||t(this).css("filter","")})})}for(w.css("visibility","visible").find(".caption-container").remove(),n||w.find(".html").remove(),Vt=t('<div class="slice-container"></div>').appendTo(kt),e.slideMask&&Vt.css("overflow","hidden"),e=0;o>e;e++)for(n=0;a>n;n++){f=t('<div class="slice"></div>').css({left:e*b,top:n*v,width:b,height:v,opacity:g,display:"none"}).data({hPos:e,vPos:n}).appendTo(Vt);var S;(i.html||i.imagePath)&&(S=w.clone()),S&&(S.css({left:-(e*b),top:-(n*v),width:kt.width(),height:kt.height(),overflow:"hidden",position:"absolute"}),f.html(S).css("overflow","hidden")),di&&f.find("*").each(function(){t(this).css("filter","inherit")}),T.push(f)}for("random"==s&&(s=nt(["scale","fade","width","height","slide"])),"random"==r&&(r=nt(["randomPattern","topToBottom","bottomToTop","leftToRight","rightToLeft","topLeftToBottomRight","topRightToBottomLeft","bottomLeftToTopRight","bottomRightToTopLeft","horizontalMarginToCenter","horizontalCenterToMargin","marginToCenter","verticalCenterToMargin","skipOneTopToBottom","skipOneBottomToTop","skipOneLeftToRight","skipOneRightToLeft","skipOneHorizontal","skipOneVertical","spiralMarginToCenterCW","spiralMarginToCenterCCW","spiralCenterToMarginCW","spiralCenterToMarginCCW"])),(1==o&&"skipOneHorizontal"==r||1==a&&"skipOneVertical"==r)&&(r="randomPattern"),"random"==l&&(l=nt(["leftTop","leftCenter","leftBottom","centerTop","centerCenter","centerBottom","rightTop","rightCenter","rightBottom"])),"random"==h&&(h=nt(["left","right","top","bottom","leftTop","rightTop","leftBottom","rightBottom","horizontalAlternate","verticalAlternate"])),i=et(T,r,o,a),Ot=i.length,e=0;Ot>e;e++)M(i[e],e,s,l,h,c,d,p,u)}function M(i,e,s,n,o,a,r,l,h){var c,d,p={},u={},g=parseInt(i.css("width")),f=parseInt(i.css("height")),m=parseInt(i.css("left")),b=parseInt(i.css("top"));if("scale"==s||"width"==s||"height"==s)switch(n){case"centerCenter":d=b+.5*f,c=m+.5*g;break;case"rightCenter":d=b+.5*f,c=m+g;break;case"leftCenter":d=b+.5*f,c=m;break;case"centerTop":d=b,c=m+.5*g;break;case"rightTop":d=b,c=m+g;break;case"leftTop":d=b,c=m;break;case"centerBottom":d=b+f,c=m+.5*g;break;case"rightBottom":d=b+f,c=m+g;break;case"leftBottom":d=b+f,c=m;break;default:d=b+.5*f,c=m+.5*g}else if("slide"==s)switch(o){case"left":d=b,c=m-g*a;break;case"right":d=b,c=m+g*a;break;case"top":d=b-f*a,c=m;break;case"bottom":d=b+f*a,c=m;break;case"leftTop":d=b-f*a,c=m-g*a;break;case"rightTop":d=b-f*a,c=m+g*a;break;case"leftBottom":d=b+f*a,c=m-g*a;break;case"rightBottom":d=b+f*a,c=m+g*a;break;case"horizontalAlternate":d=b,c=m+g*a*(e%2==0?1:-1);break;case"verticalAlternate":d=b+f*a*(e%2==0?1:-1),c=m;break;default:d=b,c=m-g*a}switch(s){case"fade":u={opacity:1};break;case"scale":p={width:0,height:0,left:c,top:d},u={width:g,height:f,left:m,top:b,opacity:1};break;case"width":p={width:0,left:c},u={width:g,left:m,opacity:1};break;case"height":p={height:0,top:d},u={height:f,top:b,opacity:1};break;case"slide":p={left:c,top:d},u={left:m,top:b,opacity:1};break;default:u={opacity:1}}var v=setTimeout(function(){i.css(p).css("display","block").data("delay",v).animate(u,r,l,function(){Ot--,0==Ot&&(Vt.find(".slice").each(function(){t(this).remove(),di&&t(this).find("*").each(function(){t(this).css("filter","inherit")})}),Vt.remove(),-1!=zt&&Lt[zt].css({visibility:""}),Lt[At].css("visibility","visible"),O())})},e*h)}function O(){var i=Pt[At],e=parseInt(i.properties.captionDelay);Rt=!1,Ht.settings.slideshow&&"stopped"!=at&&(Ht.settings.slideshowLoop||At!=Wt-1?(H(),(Ht.settings.pauseSlideshowOnHover&&Nt||Xt)&&P()):z()),At!=Bt&&(_t&&"swipe"==Ht.settings.effectType&&(_t=!1,E(),li&&clearTimeout(li)),i.caption?(_t=!0,li=setTimeout(function(){(!Ht.settings.captionToggle||Ht.settings.captionToggle&&Nt)&&I()},e)):Bt=-1),Ht.settings.preloadNearbyImages&&v(At),-1!=zt&&Lt[zt].removeClass("active"),Lt[At].addClass("active");var s=Lt[At].children('a[rel^="slider-lightbox"]');if(s.length&&Ht.settings.lightboxIcon){Gt=!0,e=s.attr("href");e=-1!=e.indexOf("iframe=true")||-1!=e.indexOf("ajax=true")||-1!=e.indexOf("custom=true")?"link":-1!=e.indexOf("youtube.com")||-1!=e.indexOf("youtu.be")||-1!=e.indexOf("vimeo.com")?"video":"image"}t.fn.videoController&&Lt[At].find(".video").length&&(hi=Lt[At].find(".video").videoController({reachVideoAction:Ht.settings.reachVideoAction,leaveVideoAction:Ht.settings.leaveVideoAction,start:function(){"stopSlideshow"!=Ht.settings.videoPlayAction||Xt?"pauseSlideshow"==Ht.settings.videoPlayAction&&!Xt&&P():B()},play:function(){qt=!0,"stopSlideshow"!=Ht.settings.videoPlayAction||Xt?"pauseSlideshow"==Ht.settings.videoPlayAction&&!Xt&&P():B()},pause:function(){"startSlideshow"!=Ht.settings.videoPauseAction||Xt?"resumeSlideshow"==Ht.settings.videoPauseAction&&!Xt&&L():H()},end:function(){"resetVideo"==Ht.settings.videoEndAction?hi.stopVideo():"startSlideshow"!=Ht.settings.videoEndAction||Xt?"resumeSlideshow"!=Ht.settings.videoEndAction||Xt?"nextSlide"==Ht.settings.videoEndAction&&m():L():H()},fullscreenchange:function(){t.browser.msie&&(t("body").hasClass("vjs-full-window")?(Ht.settings.timerAnimation&&Et.find(".timer-animation").css("visibility","hidden"),Ht.settings.slideArrows&&kt.find(".slide-arrows").css("visibility","hidden"),Ht.settings.slideButtons&&Et.find(".slide-buttons").css("visibility","hidden"),Ht.settings.slideshowControls&&kt.find(".slideshow-controls").css("visibility","hidden"),Ht.settings.lightboxIcon&&kt.find(".lightbox-icon").css("visibility","hidden"),("scroller"==Ht.settings.thumbnailType||"tooltipAndScroller"==Ht.settings.thumbnailType)&&Et.find(".thumbnail-scroller").css("visibility","hidden")):(Ht.settings.timerAnimation&&Et.find(".timer-animation").css("visibility","visible"),Ht.settings.slideArrows&&kt.find(".slide-arrows").css("visibility","visible"),Ht.settings.slideButtons&&Et.find(".slide-buttons").css("visibility","visible"),Ht.settings.slideshowControls&&kt.find(".slideshow-controls").css("visibility","visible"),Ht.settings.lightboxIcon&&kt.find(".lightbox-icon").css("visibility","visible"),("scroller"==Ht.settings.thumbnailType||"tooltipAndScroller"==Ht.settings.thumbnailType)&&Et.find(".thumbnail-scroller").css("visibility","visible")))}}),hi.reachVideo()),i={type:"transitionComplete",index:At,data:i},t.isFunction(Ht.settings.transitionComplete)&&Ht.settings.transitionComplete.call(this,i)}function I(){Bt=At;var i=Pt[Bt].properties,e=i.captionPosition,s=ot(i.captionSize),n=ot(i.captionWidth),o=ot(i.captionHeight),a=ot(i.captionLeft),r=ot(i.captionTop),l=i.captionShowEffect,h=parseInt(i.captionShowEffectDuration),c=i.captionShowEffectEasing,d=i.captionShowSlideDirection;n="custom"==e?n:"100%",o="custom"==e?o:"100%",a="custom"==e?a:0,r="custom"==e?r:0;var p=Lt[At].find(".caption-container"),u=p.find(".wrapper"),g=u.find(".background"),f=u.find(".caption"),m=parseFloat(i.captionBackgroundOpacity);i=i.captionBackgroundColor;var b="fade"==l?0:s;switch(e){case"left":p.css({width:s,height:o,left:a,top:r}),"auto"==d&&u.css({width:s,height:o,left:-b,top:0});break;case"right":p.css({width:s,height:o,right:a,top:r}),"auto"==d&&u.css({width:s,height:o,left:b,top:0});break;case"top":p.css({width:n,height:s,left:a,top:r}),"auto"==d&&u.css({width:n,height:s,left:0,top:-b});break;case"bottom":p.css({width:n,height:s,left:a,bottom:r}),"auto"==d&&u.css({width:n,height:s,left:0,top:b});break;case"custom":p.css({width:n,height:o,left:a,top:r}),u.css({width:n,height:o,left:0,top:0});break;case"default":p.css({width:n,height:s,left:a,bottom:r}),"auto"==d&&u.css({width:n,height:s,left:0,top:b})}"fade"==l?di?"6.0"!=t.browser.version?(f.stop().css({opacity:0}).animate({opacity:1},h,c,function(){f.css("filter","")}),g.stop().css({opacity:0}).animate({opacity:m},h,c)):(u.css("opacity",1),f.css("opacity",1),g.css("opacity",1),u.css("background-color",i)):u.css({opacity:0}).animate({opacity:1},h,c):(u.stop().css({opacity:1}),f.stop().css("opacity",1),g.stop().css("opacity",m),"custom"==e&&p.css({width:n,height:o,left:a,top:r}),"topToBottom"==d?u.css({width:n,height:o,left:0,top:-o}):"bottomToTop"==d?u.css({width:n,height:o,left:0,top:o}):"leftToRight"==d?u.css({
width:n,height:o,left:-n,top:0}):"rightToLeft"==d&&u.css({width:n,height:o,left:n,top:0}),t.browser.msie&&"6.0"==t.browser.version&&u.css("background-color",i),u.stop().animate({top:0,left:0},h,c))}function E(){if(-1!=Bt){var i=Lt[Bt].find(".caption-container").find(".wrapper"),e=i.find(".background"),s=i.find(".caption"),n=Pt[Bt].properties,o=n.captionPosition,a=n.captionHideEffect,r=parseInt(n.captionHideEffectDuration),l=n.captionHideEffectEasing;if(n=n.captionHideSlideDirection,"fade"==a)di?"6.0"!=t.browser.version?(s.stop().animate({opacity:0},r,l),e.stop().animate({opacity:0},r,l)):(s.css("opacity",0),e.css("opacity",0),i.css("opacity",0)):i.stop().animate({opacity:0},r,l);else if("topToBottom"==n)i.animate({top:i.height()},r);else if("bottomToTop"==n)i.animate({top:-i.height()},r);else if("leftToRight"==n)i.animate({left:i.width()},r);else if("rightToLeft"==n)i.animate({left:-i.width()},r);else if("auto"==n)switch(o){case"left":i.stop().animate({left:-i.width()},r);break;case"right":i.stop().animate({left:i.width()},r);break;case"top":i.stop().animate({top:-i.height()},r);break;case"bottom":i.stop().animate({top:i.height()},r);break;case"custom":i.stop().animate({top:i.height()},r);break;case"default":i.stop().animate({top:i.height()},r)}}}function H(){var t=Pt[At].properties.slideshowDelay;at="playing",Ht.settings.timerAnimation&&W(t),Qt=0,Yt=(new Date).getTime(),Ut&&clearTimeout(Ut),Ut=setTimeout(function(){ri="slideshow","next"==Ht.settings.slideshowDirection?m():"previous"==Ht.settings.slideshowDirection&&b()},t)}function A(){Ht.settings.slideshow||(Ht.settings.slideshow=!0),Et.find(".slideshow-controls").removeClass("play").addClass("pause"),H()}function z(){Et.find(".slideshow-controls").removeClass("pause").addClass("play"),at="stopped",B()}function B(){Ut&&clearTimeout(Ut),Ht.settings.timerAnimation&&F()}function P(){Ht.settings.slideshow&&"playing"==at&&!Rt&&(Ut&&clearTimeout(Ut),at="paused",Qt+=(new Date).getTime()-Yt)}function L(){if(Ht.settings.slideshow&&"paused"==at&&!Rt){var t=Pt[At].properties.slideshowDelay;at="playing",Yt=(new Date).getTime(),Ut&&clearTimeout(Ut),Ut=setTimeout(function(){"next"==Ht.settings.slideshowDirection?m():"previous"==Ht.settings.slideshowDirection&&b()},t-Qt)}}function W(t){}function F(){Jt&&clearInterval(Jt);var t=Et.find(".timer-animation");t&&(di?t.remove():t.stop().animate({opacity:0},Ht.settings.timerFadeDuration,function(){t.remove()}))}function V(){lt=t('<div class="thumbnail-scroller"></div>').appendTo(Et),ht=t('<div class="visible-container"></div>').appendTo(lt),ct=t('<ul class="container"></ul>').appendTo(ht),"horizontal"==Ht.settings.thumbnailOrientation?lt.addClass("horizontal"):lt.addClass("vertical");for(var i=0;Wt>i;i++)if(Pt[i].thumbnail&&("scroller"==Pt[i].properties.thumbnailType||"tooltipAndScroller"==Pt[i].properties.thumbnailType)){var e=Pt[i].thumbnail.is("a"),s=e?Pt[i].thumbnail.find("img").removeClass("thumbnail"):Pt[i].thumbnail,n=s.attr("src"),o=s.attr("alt");s.attr("title");var a=t('<li class="thumbnail-wrapper"></li>').appendTo(ct);e?(e=Pt[i].thumbnail,e.addClass("thumbnail").css({width:Ht.settings.thumbnailWidth,height:Ht.settings.thumbnailHeight}).attr("data-index",i).appendTo(a),s[0].complete||"complete"==s[0].readyState?(s.css("margin-left",.5*(Ht.settings.thumbnailWidth-s.width())),s.css("margin-top",.5*(Ht.settings.thumbnailHeight-s.height())),e.css("background-image","none")):s.load(function(){t(this).css("margin-left",.5*(Ht.settings.thumbnailWidth-t(this).width())),t(this).css("margin-top",.5*(Ht.settings.thumbnailHeight-t(this).height())),t(this).parent().css("background-image","none")})):(e=t('<a class="thumbnail"></a>').css({"background-image":"url("+n+")",width:Ht.settings.thumbnailWidth+40,height:Ht.settings.thumbnailHeight+23}).attr("data-index",i).appendTo(a),Pt[i].thumbnail.attr("title")&&e.attr("title",Pt[i].thumbnail.attr("title"))),a.css({width:e.outerWidth()-8,height:e.outerHeight()}),ei=-1==Ht.settings.thumbnailLayers||Ht.settings.thumbnailLayers*Ht.settings.maximumVisibleThumbnails>Wt?Math.ceil(Wt/Ht.settings.maximumVisibleThumbnails):Ht.settings.thumbnailLayers,"horizontal"==Ht.settings.thumbnailOrientation?(a.css("left",Math.floor(Kt/ei)*a.outerWidth(!0)),a.css("top",Kt%ei*a.outerHeight(!0))):(a.css("left",Kt%ei*a.outerWidth(!0)),a.css("top",Math.floor(Kt/ei)*a.outerHeight(!0))),o&&(s=t('<div class="caption"></div>').appendTo(e),n=t('<div class="background"></div>').appendTo(s),o=t('<div class="content">'+o+"</div>").appendTo(s),s.css("height",o.outerHeight(!0)),"top"==Ht.settings.thumbnailCaptionPosition?s.css({top:0}):s.css({bottom:0}),Ht.settings.thumbnailCaptionToggle&&("slide"==Ht.settings.thumbnailCaptionEffect?"top"==Ht.settings.thumbnailCaptionPosition?s.css({top:-s.outerHeight(!0)}):s.css({bottom:-s.outerHeight(!0)}):di?(n.data("opacity",n.css("opacity")),n.css("opacity",0),o.css("opacity",0)):s.css("opacity",0))),a=a.children('a[rel^="slider-lightbox"]'),o=Lt[i].children('a[rel^="slider-lightbox"]'),s=a.length&&Ht.settings.lightboxIcon,n=o.length&&Ht.settings.thumbnailLightboxIcon,(s||n)&&(a=s?a.attr("href"):o.attr("href"),a=-1!=a.indexOf("iframe=true")||-1!=a.indexOf("ajax=true")||-1!=a.indexOf("custom=true")?"link":-1!=a.indexOf("youtube.com")||-1!=a.indexOf("youtu.be")||-1!=a.indexOf("vimeo.com")?"video":"image",o=t('<div class="lightbox-icon"></div>').appendTo(e),"video"==a?o.addClass("play"):"link"==a?o.addClass("hyperlink"):"image"==a&&o.addClass("magnifying"),Ht.settings.thumbnailLightboxIconToggle&&o.css("opacity",0)),e.hover(function(){t(this).hasClass("select")||t(this).addClass("over");var i=t(this).data("index");if(Ht.settings.thumbnailCaptionToggle){var e=t(this).children(".caption"),s=e.children(".background"),n=e.children(".content"),o=s.data("opacity");"slide"==Ht.settings.thumbnailCaptionEffect?"top"==Ht.settings.thumbnailCaptionPosition?e.stop().animate({top:0},Ht.settings.thumbnailCaptionShowDuration,Ht.settings.thumbnailCaptionEasing):e.stop().animate({bottom:0},Ht.settings.thumbnailCaptionShowDuration,Ht.settings.thumbnailCaptionEasing):di?(s.stop().animate({opacity:o},Ht.settings.thumbnailCaptionShowDuration,Ht.settings.thumbnailCaptionEasing),n.stop().animate({opacity:1},Ht.settings.thumbnailCaptionShowDuration,Ht.settings.thumbnailCaptionEasing)):e.stop().animate({opacity:1},Ht.settings.thumbnailCaptionShowDuration,Ht.settings.thumbnailCaptionEasing)}Ht.settings.thumbnailLightboxIconToggle&&(e=t(this).children(".lightbox-icon"),di?e.css("filter",""):e.stop().animate({opacity:1},Ht.settings.lightboxIconFadeDuration)),Ht.settings.thumbnailTooltip&&tt(t(this).attr("title")),i={type:"thumbnailMouseOver",index:i},t.isFunction(Ht.settings.thumbnailMouseOver)&&Ht.settings.thumbnailMouseOver.call(this,i)},function(){t(this).hasClass("select")||t(this).removeClass("over");var i=t(this).data("index");if(Ht.settings.thumbnailCaptionToggle){var e=t(this).children(".caption"),s=e.children(".background"),n=e.children(".content");"slide"==Ht.settings.thumbnailCaptionEffect?"top"==Ht.settings.thumbnailCaptionPosition?e.stop().animate({top:-e.outerHeight(!0)},Ht.settings.thumbnailCaptionHideDuration,Ht.settings.thumbnailCaptionEasing):e.stop().animate({bottom:-e.outerHeight(!0)},Ht.settings.thumbnailCaptionHideDuration,Ht.settings.thumbnailCaptionEasing):di?(s.stop().animate({opacity:0},Ht.settings.thumbnailCaptionHideDuration,Ht.settings.thumbnailCaptionEasing),n.stop().animate({opacity:0},Ht.settings.thumbnailCaptionHideDuration,Ht.settings.thumbnailCaptionEasing)):e.stop().animate({opacity:0},Ht.settings.thumbnailCaptionHideDuration,Ht.settings.thumbnailCaptionEasing)}Ht.settings.thumbnailLightboxIconToggle&&(e=t(this).children(".lightbox-icon"),di?e.css("opacity",0):e.stop().animate({opacity:0},Ht.settings.lightboxIconFadeDuration)),Ht.settings.thumbnailTooltip&&it(),i={type:"thumbnailMouseOut",index:i},t.isFunction(Ht.settings.thumbnailMouseOut)&&Ht.settings.thumbnailMouseOut.call(this,i)}),e.click(function(){var i=t(this).data("index");ri="thumbnail";var e={type:"thumbnailClick",index:i};t.isFunction(Ht.settings.thumbnailClick)&&Ht.settings.thumbnailClick.call(this,e),t(this).attr("href")||f(i)}),Kt++}dt=lt.find(".thumbnail-wrapper").outerWidth(!0),pt=lt.find(".thumbnail-wrapper").outerHeight(!0),ii=Math.ceil(Kt/(Ht.settings.maximumVisibleThumbnails*ei)),"horizontal"==Ht.settings.thumbnailOrientation?(lt.css({height:pt*ei,width:dt*Ht.settings.maximumVisibleThumbnails}),ht.css({height:pt*ei,width:dt*Ht.settings.maximumVisibleThumbnails})):(lt.css({width:dt*ei,height:pt*Ht.settings.maximumVisibleThumbnails}),ht.css({width:dt*ei,height:pt*Ht.settings.maximumVisibleThumbnails})),Ht.settings.thumbnailArrows&&N(),Ht.settings.thumbnailButtons&&G(),Ht.settings.thumbnailScrollbar&&J(),Ht.settings.thumbnailMouseScroll&&X(),Ht.settings.thumbnailMouseWheel&&U(),Ht.settings.thumbnailTooltip&&t('<div class="tooltip"><div class="content"></div></div>').hide().appendTo(lt),(Ht.settings.thumbnailMouseScroll||Ht.settings.thumbnailTooltip||Ht.settings.thumbnailScrollbar)&&t(document).bind("mousemove",function(t){yt=t.pageX,St=t.pageY}),R(),Ht.settings.thumbnailScrollerToggle&&(lt.css({opacity:0}),lt.hover(function(){di?lt.css("filter",""):lt.stop().animate({opacity:1},Ht.settings.thumbnailScrollerShowDuration)},function(){di?lt.css("opacity",0):lt.stop().animate({opacity:0},Ht.settings.thumbnailScrollerHideDuration)}))}function R(){if("horizontal"==Ht.settings.thumbnailOrientation){var t=Ht.settings.thumbnailArrows?parseInt(lt.css("paddingLeft"))+parseInt(lt.css("paddingRight")):0;rt=Math.ceil(Kt/ei)*dt,Zt=Ht.settings.thumbnailScrollerResponsive?Math.max(Ht.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Kt/ei),Ht.settings.maximumVisibleThumbnails,Math.floor((kt.outerWidth()-t)/dt))):Math.min(Kt,Ht.settings.maximumVisibleThumbnails),lt.css("width",dt*Zt),ht.css("width",dt*Zt)}else t=Ht.settings.thumbnailArrows?parseInt(lt.css("paddingTop"))+parseInt(lt.css("paddingBottom")):0,rt=Math.ceil(Kt/ei)*pt,Zt=Ht.settings.thumbnailScrollerResponsive?Math.max(Ht.settings.minimumVisibleThumbnails,Math.min(Math.ceil(Kt/ei),Ht.settings.maximumVisibleThumbnails,Math.floor((kt.outerHeight()-t)/pt))):Math.min(Kt,Ht.settings.maximumVisibleThumbnails),lt.css("height",Zt*pt),ht.css("height",Zt*pt);Ht.settings.thumbnailScrollerCenter&&("horizontal"==Ht.settings.thumbnailOrientation?lt.css("left",(Ct.outerWidth()-lt.outerWidth())/2):"vertical"==Ht.settings.thumbnailOrientation&&lt.css("top",6.5)),$t!=Zt&&($t=Zt,ii=Math.ceil(Kt/(Zt*ei)),Ht.settings.thumbnailButtons&&Ht.settings.thumbnailScrollerResponsive&&G(),Ht.settings.thumbnailScrollbar&&Ht.settings.thumbnailScrollerResponsive&&("horizontal"==Ht.settings.thumbnailOrientation?(ft.css("width",lt.width()),bt.css("width",ft.width()-thumbnailScrollerScrollbarEdgeSize),ft.css("left",(lt.outerWidth()-ft.width())/2)):(ft.css("height",lt.height()),bt.css("height",ft.height()-thumbnailScrollerScrollbarEdgeSize),ft.css("top",(lt.outerHeight()-ft.height())/2))),q(ti))}function N(){ut=t('<div class="arrows"></div>').appendTo(lt);var i=t('<a class="previous"></a>').click(function(){_()}).appendTo(ut),e=t('<a class="next"></a>').click(function(){j()}).appendTo(ut);"horizontal"==Ht.settings.thumbnailOrientation?(i.css({top:Math.round((pt*ei-i.height())/2)}),e.css({top:Math.round((pt*ei-e.height())/2)})):(i.css({left:Math.round((dt*ei-i.width())/2)}),e.css({left:Math.round((dt*ei-e.width())/2)})),Ht.settings.thumbnailArrowsToggle&&(t.browser.msie?ut.hide():ut.css("opacity",0),lt.hover(function(){t.browser.msie?ut.show():ut.stop().animate({opacity:1},Ht.settings.thumbnailArrowsShowDuration)},function(){t.browser.msie?ut.hide():ut.stop().animate({opacity:0},Ht.settings.thumbnailArrowsHideDuration)}))}function G(){if(gt||(gt=t('<div class="buttons"></div>').appendTo(lt),Ht.settings.thumbnailButtonsToggle&&(di?gt.hide():gt.css("opacity",0),lt.hover(function(){di?gt.show():gt.stop().animate({opacity:1},Ht.settings.thumbnailButtonsShowDuration)},function(){di?gt.hide():gt.stop().animate({opacity:0},Ht.settings.thumbnailButtonsShowDuration)}))),1==ii)gt.empty();else if(gt.find(".buttons a").length!=ii&&ii>1){gt.empty();for(var i,e=0;ii>e;e++){var s=t('<a rel="'+e+'"></a>').appendTo(gt);"horizontal"==Ht.settings.thumbnailOrientation?(i=s.outerWidth(!0),s.css("left",e*i)):(i=s.outerHeight(!0),s.css("top",e*i)),s.bind({mouseover:function(){t(this).hasClass("select")||t(this).addClass("over")},mouseout:function(){t(this).hasClass("select")||t(this).removeClass("over")},click:function(){var i=parseInt(t(this).attr("rel"));q(i)}})}"horizontal"==Ht.settings.thumbnailOrientation?(gt.css("top",pt*ei),gt.css("width",i*ii),gt.css("height",i),lt.css("height",Math.max(lt.height(),gt.position().top+gt.outerHeight(!0)))):(gt.css("left",dt*ei),gt.css("height",i*ii),gt.css("width",i),lt.css("width",Math.max(lt.width(),gt.position().left+gt.outerWidth(!0)))),ti>ii-1&&(ti=ii-1),gt.find("a").eq(ti).addClass("select")}"horizontal"==Ht.settings.thumbnailOrientation?gt.css("left",(lt.outerWidth()-gt.outerWidth())/2):gt.css("top",(lt.outerHeight()-gt.outerHeight())/2)}function j(){ii-1>ti?(ti++,q(ti)):q(0)}function _(){ti>0?(ti--,q(ti)):q(ii-1)}function q(t){var i="horizontal"==Ht.settings.thumbnailOrientation?ht.width():ht.height(),e=t*i;ti=t,ti==ii-1&&(e=rt-i),K(),ct.animate("horizontal"==Ht.settings.thumbnailOrientation?{left:-e}:{top:-e},{duration:Ht.settings.thumbnailScrollDuration,easing:Ht.settings.thumbnailScrollEasing,step:function(){$()},complete:function(){Z()}}),Ht.settings.thumbnailButtons&&(i=lt.find(".buttons"),i.find(".select").removeClass("select"),i.find("a").eq(t).removeClass("over").addClass("select"))}function X(){Ht.settings.thumbnailMouseScroll=!0;var t=0,i=!1,e=ht.offset().top,s=ht.offset().left,n=ht.width(),o=ht.height(),a="horizontal"==Ht.settings.thumbnailOrientation?n:o,r="horizontal"==Ht.settings.thumbnailOrientation?s:e,l="horizontal"==Ht.settings.thumbnailOrientation?"left":"top",h=parseInt(ct.css(l));vt=setInterval(function(){i||(i=!0,e=ht.offset().top,s=ht.offset().left,n=ht.width(),o=ht.height()),yt>s&&s+n>yt&&St>e&&e+o>St?(t=Math.round((-((rt-a+200)*((("horizontal"==Ht.settings.thumbnailOrientation?yt:St)-r)/a))+100-h)*Ht.settings.thumbnailMouseScrollSpeed/100),h+=t):Math.abs(t)>.1?(t*=Ht.settings.thumbnailMouseScrollEase/100,h+=t):t=0,Math.abs(t)>0&&(h>=0?h=0:a-rt>=h&&(h=a-rt),$(),ct.css(l,h))},30)}function U(){Ht.settings.thumbnailMouseWheel=!0;var t,i=0,e=Ht.settings.thumbnailMouseWheelReverse?-1:1,s="horizontal"==Ht.settings.thumbnailOrientation?"left":"top",n="horizontal"==Ht.settings.thumbnailOrientation?ht.width():ht.height();ht.bind("mousewheel",function(o,a){o.preventDefault(),si||(K(),si=!0,i=t=parseInt(ct.css(s)),wt=setInterval(function(){Math.abs(i-t)>.5?(t+=(i-t)*(Ht.settings.thumbnailMouseWheelSpeed/100),$(),ct.css(s,t)):Z()},30)),i+=e*a*10,i>=0?i=0:n-rt>=i&&(i=n-rt)})}function J(){function i(){d=("horizontal"==Ht.settings.thumbnailOrientation?yt:St)-mt.offset()[f]-c,e()}function e(){0>d?d=0:d>parseInt(mt.css(g))-parseInt(h.css(g))&&(d=parseInt(mt.css(g))-parseInt(h.css(g))),ni&&h.css(f,d),p=d/(parseInt(mt.css(g))-parseInt(h.css(g))),oi||(K(),oi=!0,u=parseInt(ct.css(f)),Tt=setInterval(function(){if(Math.abs(Q()+p)>.001){var t=(-p*(rt-parseInt(ht.css(g)))-u)*Ht.settings.thumbnailScrollbarEase/100;u+=t,$(),ct.css(f,u)}else oi&&Z()},30))}ft=t('<div class="scrollbar"></div>').appendTo(lt);var s=t('<div class="back"></div>').appendTo(ft),n=t('<div class="track"></div>').appendTo(ft),o=t('<div class="forward"></div>').appendTo(ft),a=t('<div class="track-middle"></div>').appendTo(n),r=t('<div class="track-back"></div>').appendTo(n),l=t('<div class="track-forward"></div>').appendTo(n),h=t('<div class="thumb"></div>').appendTo(n);t('<div class="thumb-middle"></div>').appendTo(h),t('<div class="thumb-back"></div>').appendTo(h),t('<div class="thumb-forward"></div>').appendTo(h);var c,d=0,p=0,u=0,g="horizontal"==Ht.settings.thumbnailOrientation?"width":"height",f="horizontal"==Ht.settings.thumbnailOrientation?"left":"top";ft.addClass(Ht.settings.scrollbarSkin),mt=n,"horizontal"==Ht.settings.thumbnailOrientation?(ft.addClass("horizontal"),ft.css({top:pt*ei,left:(lt.outerWidth()-ft.width())/2}),lt.css("height",Math.max(lt.height(),ft.position().top+ft.outerHeight(!0)))):(ft.addClass("vertical"),ft.css({left:dt*ei,top:(lt.outerHeight()-ft.height())/2}),lt.css("width",Math.max(lt.width(),ft.position().left+ft.outerWidth(!0)))),0==s.width()&&0==o.width()?(bt=a,thumbnailScrollerScrollbarEdgeSize="horizontal"==Ht.settings.thumbnailOrientation?r.width()+l.width():r.height()+l.height()):(bt=n,thumbnailScrollerScrollbarEdgeSize="horizontal"==Ht.settings.thumbnailOrientation?s.width()+o.width():s.height()+o.height()),Ht.settings.thumbnailScrollbarToggle&&(di?ft.hide():ft.css("opacity",0),lt.hover(function(){di?ft.show():ft.stop().animate({opacity:1},Ht.settings.thumbnailScrollbarShowDuration)},function(){di?ft.hide():ft.stop().animate({opacity:0},Ht.settings.thumbnailScrollbarShowDuration)})),h.bind("mousedown",function(e){e.preventDefault(),c=("horizontal"==Ht.settings.thumbnailOrientation?yt:St)-h.offset()[f],ni=!0,t(document).bind("mousemove",i)}),t(document).bind("mouseup",function(){ni&&(ni=!1,t(document).unbind("mousemove",i))}),s.bind("click",function(){d=parseInt(h.css(f))-Ht.settings.scrollbarArrowScrollAmount,e()}),o.bind("click",function(){d=parseInt(h.css(f))+Ht.settings.scrollbarArrowScrollAmount,e()})}function Q(){var t="horizontal"==Ht.settings.thumbnailOrientation?"width":"height";return parseFloat(ct.css("horizontal"==Ht.settings.thumbnailOrientation?"left":"top"))/(rt-parseInt(ht.css(t)))}function Y(){vt&&clearInterval(vt),wt&&(si=!1,clearInterval(wt)),Tt&&(oi=!1,clearInterval(Tt))}function K(){Y(),ct&&ct.is(":animated")&&ct.stop()}function Z(){Y(),Ht.settings.thumbnailMouseScroll&&X()}function $(){if(Ht.settings.thumbnailScrollbar&&!ni){var t=mt.find(".thumb"),i="horizontal"==Ht.settings.thumbnailOrientation?"left":"top",e="horizontal"==Ht.settings.thumbnailOrientation?"width":"height";e=parseInt(mt.css(e))-parseInt(t.css(e));var s=-Q()*e;s>=0&&e>=s&&t.css(i,s)}}function tt(i){if(i){var e=Et.find(".tooltip");e.find(".content").html(i),e.stop(!1,!0).fadeIn(Ht.settings.tooltipShowDuration);var s=-e.outerWidth()/2,n=0-e.outerHeight()-parseInt(e.css("marginBottom"));e.css({left:yt-lt.offset().left+s,top:St-lt.offset().top+n}),t(document).bind("mousemove.tooltip",function(){e.css({left:yt-lt.offset().left+s,top:St-lt.offset().top+n})})}}function it(){var i=Et.find(".tooltip");i&&i.stop(!1,!0).fadeOut(Ht.settings.tooltipHideDuration,function(){t(document).unbind("mousemove.tooltip"),i.css("left",-9999)})}function et(t,i,e,s){var n,o,a=[],r=0;switch(i){case"randomPattern":for(e=[];t.length;)r=Math.floor(Math.random()*t.length),e.push(t[r]),t.splice(r,1);var l=e.length;for(i=0;l>i;i++)a[i]=e[i];break;case"topToBottom":for(o=0;s>o;o++)for(n=0;e>n;n++)a.push(st(t,n,o));break;case"bottomToTop":for(o=s-1;o>=0;o--)for(n=e-1;n>=0;n--)a.push(st(t,n,o));break;case"rightToLeft":for(n=e-1;n>=0;n--)for(o=s-1;o>=0;o--)a.push(st(t,n,o));break;case"leftToRight":for(n=0;e>n;n++)for(o=0;s>o;o++)a.push(st(t,n,o));break;case"topLeftToBottomRight":for(i=0;e+s-1>i;i++)for(o=0,n=i;n>=0;n--)void 0!=st(t,n,o)&&a.push(st(t,n,o)),o++;break;case"bottomLeftToTopRight":for(r=e>s?e:s,i=e-1;i>=1-r;i--)for(n=0,o=i;e-1>=o;o++)void 0!=st(t,n,o)&&a.push(st(t,n,o)),n++;break;case"topRightToBottomLeft":for(r=e>s?e:s,i=e-1;i>=1-r;i--)for(n=i,o=0;s-1>=o;o++)void 0!=st(t,n,o)&&a.push(st(t,n,o)),n++;break;case"bottomRightToTopLeft":for(i=s+e-2;i>=0;i--)for(o=0,n=i;n>=0;n--)void 0!=st(t,n,o)&&a.push(st(t,n,o)),o++;break;case"horizontalMarginToCenter":if(e%2){for(n=0;n<Math.floor(e/2);n++)for(o=0;s>o;o++)a.push(st(t,n,o)),a.push(st(t,e-1-n,o));for(i=0;s>i;i++)a.push(st(t,Math.floor(e/2),i))}else for(n=0;n<Math.floor(e/2);n++)for(o=0;s>o;o++)a.push(st(t,n,o)),a.push(st(t,e-1-n,o));break;case"horizontalCenterToMargin":if(e%2)for(i=0;s>i;i++)a.push(st(t,Math.floor(e/2),i));for(n=Math.floor(e/2)-1;n>=0;n--)for(o=0;s>o;o++)a.push(st(t,n,o)),a.push(st(t,e-1-n,o));break;case"verticalMarginToCenter":if(s%2){for(o=0;o<Math.floor(s/2);o++)for(n=0;e>n;n++)a.push(st(t,n,o)),a.push(st(t,n,s-1-o));for(i=0;e>i;i++)a.push(st(t,i,Math.floor(s/2)))}else for(o=0;o<Math.floor(s/2);o++)for(n=0;e>n;n++)a.push(st(t,n,o)),a.push(st(t,n,s-1-o));break;case"verticalCenterToMargin":if(s%2)for(i=0;e>i;i++)a.push(st(t,i,Math.floor(s/2)));for(o=Math.floor(s/2)-1;o>=0;o--)for(n=0;e>n;n++)a.push(st(t,n,o)),a.push(st(t,n,s-1-o));break;case"skipOneTopToBottom":for(o=0;s>o;o++){for(n=r;e>n;n+=2)a.push(st(t,n,o));r=0==r?1:0}for(r=1,o=0;s>o;o++){for(n=r;e>n;n+=2)a.push(st(t,n,o));r=0==r?1:0}break;case"skipOneBottomToTop":for(o=s-1;o>=0;o--){for(n=r;e>n;n+=2)a.push(st(t,n,o));r=0==r?1:0}for(r=1,o=s-1;o>=0;o--){for(n=r;e>n;n+=2)a.push(st(t,n,o));r=0==r?1:0}break;case"skipOneLeftToRight":for(n=0;e>n;n++){for(o=r;s>o;o+=2)a.push(st(t,n,o));r=0==r?1:0}for(r=1,n=0;e>n;n++){for(o=r;s>o;o+=2)a.push(st(t,n,o));r=0==r?1:0}break;case"skipOneRightToLeft":for(n=e-1;n>=0;n--){for(o=r;s>o;o+=2)a.push(st(t,n,o));r=0==r?1:0}for(r=1,n=e-1;n>=0;n--){for(o=r;s>o;o+=2)a.push(st(t,n,o));r=0==r?1:0}break;case"skipOneVertical":if(s%2)for(o=0;s>o;o++){for(n=r;e>n;n+=2){if(o==Math.floor(s/2))for(o++,i=1-e%2;e>i;i+=2)a.push(st(t,i,Math.floor(s/2))),void 0!=st(t,i-1,Math.floor(s/2))&&a.push(st(t,i-1,Math.floor(s/2)));a.push(st(t,n,o)),a.push(st(t,n,s-o-1))}r=0==r?1:0}else for(o=0;s>o;o++){for(n=r;e>n;n+=2)a.push(st(t,n,o)),a.push(st(t,n,s-o-1));r=0==r?1:0}break;case"skipOneHorizontal":if(e%2)for(n=0;e>n;n++){for(o=r;s>o;o+=2){if(n==Math.floor(e/2))for(n++,i=1-s%2;s>i;i+=2)a.push(st(t,Math.floor(e/2),i)),void 0!=st(t,Math.floor(e/2),i-1)&&a.push(st(t,Math.floor(e/2),i-1));a.push(st(t,n,o)),a.push(st(t,e-1-n,o))}r=0==r?1:0}else for(n=0;e>n;n++){for(o=r;s>o;o+=2)a.push(st(t,n,o)),a.push(st(t,e-1-n,o));r=0==r?1:0}break;case"spiralMarginToCenterCW":var h,c=e,d=s,p=0,u=e>s?s:e;for(l=Math.floor(u/2),h=0;l>h;h++){for(n=p++;c>n;n++)a.push(st(t,n,p-1));for(c--,o=p;d>o;o++)a.push(st(t,e-p,o));for(d--,i=c;i>=e-c;i--)a.push(st(t,i-1,d));for(r=d-1;r>=s-d;r--)a.push(st(t,p-1,r))}if(u%2){if(u==s)for(n=p++;c>n;n++)a.push(st(t,n,p-1));if(u==e)for(o=p++;d>o;o++)a.push(st(t,e-p,o))}break;case"spiralMarginToCenterCCW":for(c=e,d=s,p=0,u=e>s?s:e,l=Math.floor(u/2),h=0;l>h;h++){for(o=p++;d>o;o++)a.push(st(t,p-1,o));for(d--,n=p;c>n;n++)a.push(st(t,n,s-p));for(c--,i=d;i>=s-d;i--)a.push(st(t,c,i-1));for(r=c-1;r>=e-c;r--)a.push(st(t,r,p-1))}if(u%2){if(u==s)for(n=p++;c>n;n++)a.push(st(t,n,s-p));if(u==e)for(o=p++;d>o;o++)a.push(st(t,p-1,o))}break;case"spiralCenterToMarginCCW":for(c=e,d=s,p=0,u=e>s?s:e,l=Math.floor(u/2),h=0;l>h;h++){for(n=p++;c>n;n++)a.push(st(t,n,p-1));for(c--,o=p;d>o;o++)a.push(st(t,e-p,o));for(d--,i=c;i>=e-c;i--)a.push(st(t,i-1,d));for(r=d-1;r>=s-d;r--)a.push(st(t,p-1,r))}if(u%2){if(u==s)for(n=p++;c>n;n++)a.push(st(t,n,p-1));if(u==e)for(o=p++;d>o;o++)a.push(st(t,e-p,o))}a.reverse();break;case"spiralCenterToMarginCW":for(c=e,d=s,p=0,u=e>s?s:e,l=Math.floor(u/2),h=0;l>h;h++){for(o=p++;d>o;o++)a.push(st(t,p-1,o));for(d--,n=p;c>n;n++)a.push(st(t,n,s-p));for(c--,i=d;i>=s-d;i--)a.push(st(t,c,i-1));for(r=c-1;r>=e-c;r--)a.push(st(t,r,p-1))}if(u%2){if(u==s)for(n=p++;c>n;n++)a.push(st(t,n,s-p));if(u==e)for(o=p++;d>o;o++)a.push(st(t,p-1,o))}a.reverse();break;default:for(e=[];t.length;)r=Math.floor(Math.random()*t.length),e.push(t[r]),t.splice(r,1);for(l=e.length,i=0;l>i;i++)a[i]=e[i]}return a}function st(i,e,s){return t.grep(i,function(t){return t.data("hPos")==e&&t.data("vPos")==s})[0]}function nt(t){return t[Math.floor(Math.random()*t.length)]}function ot(t){return isNaN(t)?t:parseInt(t)}this.settings=t.extend({},t.fn.advancedSlider.defaults,e);var at,rt,lt,ht,ct,dt,pt,ut,gt,ft,mt,bt,vt,wt,Tt,yt,St,Ct,kt,Dt,xt,Mt,Ot,It,Et=t(i),Ht=this,At=-1,zt=-1,Bt=-1,Pt=[],Lt=[],Wt=0,Ft=0,Vt=null,Rt=!1,Nt=!1,Gt=!1,jt=!1,_t=!1,qt=!1,Xt=!1,Ut=0,Jt=0,Qt=0,Yt=0,Kt=0,Zt=0,$t=0,ti=0,ii=0,ei=0,si=!1,ni=!1,oi=!1,ai=!0,ri="",li=0,hi=null,ci=0,di=t.browser.msie&&parseInt(t.browser.version)<9,pi=!1,ui=["alignType","effectType","sliceEffectType","sliceDelay","sliceDuration","sliceEasing","horizontalSlices","verticalSlices","slicePattern","slicePoint","sliceStartPosition","sliceStartRatio","sliceFade","captionSize","captionPosition","captionShowEffectDuration","captionShowEffectEasing","captionHideEffectDuration","captionHideEffectEasing","captionShowEffect","captionHideEffect","captionLeft","captionTop","captionWidth","captionHeight","captionShowSlideDirection","captionHideSlideDirection","captionBackgroundColor","captionBackgroundOpacity","slideshowDelay","slideMask","slideDirection","slideDuration","slideEasing","slideLoop","fadeInDuration","fadeOutDuration","fadeInEasing","fadeOutEasing","fadePreviousSlide","fadePreviousSlideDuration","thumbnailType","captionDelay","htmlDuringTransition"];!function(){Ht.settings.xmlSource?(Et.empty(),t.ajax({type:"GET",url:Ht.settings.xmlSource,dataType:t.browser.msie?"text":"xml",success:function(i){var n,o;t.browser.msie?(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(i)):n=i,Dt=t('<ul class="slides"></ul>').appendTo(Et),o=t(n).find("slider"),t(n).find("slide").each(function(i){var s,n,a=t('<li class="slide"></li>').appendTo(Dt),r=t(this),l=r.find("image"),h=r.find("thumbnail"),c=r.find("caption"),d=r.find("html"),p=r.find("link"),u=r.find("thumbnailLink"),g=l.length||r.attr("data-image");for(r.attr("data-image")&&a.attr("data-image",r.attr("data-image")),g&&p.length&&(s=t("<a></a>").attr("href",p.text()).attr("title",p.attr("title")?p.attr("title"):"").attr("target",p.attr("target")?p.attr("target"):"_self").attr("rel",("slider-lightbox"==p.attr("type")?p.attr("type"):"")+(p.attr("group")?"["+p.attr("group")+"]":"")).appendTo(a)),l.length&&t("<img/>").attr("src",l.text()).attr("class","image").attr("alt",l.attr("alt")?l.attr("alt"):"").attr("title",l.attr("title")?l.attr("title"):"").appendTo(s?s:a),h.length&&u.length&&(n=t("<a></a>").attr("href",u.text()).attr("title",u.attr("title")?u.attr("title"):"").attr("target",u.attr("target")?u.attr("target"):"_self").attr("rel",("slider-lightbox"==u.attr("type")?u.attr("type"):"")+(u.attr("group")?"["+u.attr("group")+"]":"")).appendTo(a)),h.length&&t("<img/>").attr("src",h.text()).attr("class","thumbnail").attr("alt",h.attr("alt")?h.attr("alt"):"").attr("title",h.attr("title")?h.attr("title"):"").appendTo(n?n:a),c.length&&t("<div></div>").html(c.text()).attr("class","caption").appendTo("link"==c.attr("parent")&&s?s:a),d.length&&t("<div></div>").html(d.text()).attr("class","html").appendTo(a),a.properties={},r=0;r<ui.length;r++)l=ui[r],a.properties[l]=e.slideProperties&&e.slideProperties[i]&&e.slideProperties[i][l]?e.slideProperties[i][l]:t(this).attr(l)?t(this).attr(l):e[l]?e[l]:o.attr(l)?o.attr(l):t.fn.advancedSlider.defaults[l];Pt.push(a)}),s(),i={type:"xmlLoaded",data:n},t.isFunction(Ht.settings.xmlLoaded)&&Ht.settings.xmlLoaded.call(this,i)}})):s()}(),this.nextSlide=m,this.previousSlide=b,this.gotoSlide=f,this.startSlideshow=A,this.stopSlideshow=z,this.pauseSlideshow=P,this.resumeSlideshow=L,this.scrollToThumbnailPage=q,this.scrollToNextThumbnailPage=j,this.scrollToPreviousThumbnailPage=_,this.startThumbnailMouseScroll=X,this.stopThumbnailMouseScroll=function(){Ht.settings.thumbnailMouseScroll=!1,clearInterval(vt)},this.startThumbnailMouseWheel=U,this.stopThumbnailMouseWheel=function(){si=Ht.settings.thumbnailMouseWheel=!1,clearInterval(wt)},this.doSliderLayout=o,this.getSlideshowState=function(){return at},this.getCurrentIndex=function(){return At},this.getSlideAt=function(t){return Pt[t]},this.getTriggerType=function(){return ri},this.isTransition=function(){return Rt},this.totalSlides=function(){return Wt},this.getSize=function(){return{sliderWidth:Et.width(),sliderHeight:Et.height(),slideWidth:kt.width(),slideHeight:kt.height()}},this.destroy=function(){z(),Y(),t(document).unbind("mousemove"),t(document).unbind("mousemove.tooltip")}}t.fn.advancedSlider=function(t){for(var e=[],s=0;s<this.length;s++)this[s].advancedslider||(this[s].advancedslider=new i(this[s],t)),e.push(this[s].advancedslider);return e.length>1?e:e[0]},t.fn.advancedSlider.defaults={xmlSource:null,width:500,height:300,skin:"pixel",scrollbarSkin:"scrollbar-1",shadow:!0,alignType:"centerCenter",scaleType:"outsideFit",allowScaleUp:!1,preloadNearbyImages:!1,slideStart:0,shuffle:!1,slideshow:!0,slideshowDelay:5e3,slideshowDirection:"next",slideshowLoop:!0,slideshowControls:!1,slideshowControlsToggle:!0,slideshowControlsShowDuration:500,slideshowControlsHideDuration:500,pauseSlideshowOnHover:!1,slideArrows:!0,slideArrowsToggle:!0,slideArrowsShowDuration:500,slideArrowsHideDuration:500,slideButtons:!0,slideButtonsNumber:!1,slideButtonsToggle:!1,slideButtonsShowDuration:500,slideButtonsHideDuration:500,slideButtonsCenter:!0,slideButtonsContainerCenter:!0,keyboardNavigation:!1,keyboardNavigationOnFocusOnly:!1,timerAnimation:!0,timerAnimationControls:!0,timerFadeDuration:500,timerToggle:!1,timerRadius:18,timerStrokeColor1:"#000000",timerStrokeColor2:"#FFFFFF",timerStrokeOpacity1:.5,timerStrokeOpacity2:.7,timerStrokeWidth1:8,timerStrokeWidth2:4,lightbox:!1,lightboxTheme:"pp_default",lightboxOpacity:.8,lightboxIcon:!0,lightboxIconToggle:!1,lightboxIconFadeDuration:500,thumbnailLightboxIcon:!0,thumbnailLightboxIconToggle:!0,htmlDuringTransition:!0,overrideTransition:!1,initialEffect:!0,effectType:"random",sliceEffectType:"random",sliceDelay:50,sliceDuration:1e3,sliceEasing:"swing",horizontalSlices:5,verticalSlices:3,slicePattern:"random",slicePoint:"centerCenter",sliceStartPosition:"left",sliceStartRatio:1,slideMask:!1,sliceFade:!0,fadePreviousSlide:!1,fadePreviousSlideDuration:300,slideDirection:"autoHorizontal",slideLoop:!1,slideDuration:700,slideEasing:"easeInOutExpo",fadeInDuration:700,fadeOutDuration:700,fadeInEasing:"swing",fadeOutEasing:"swing",swipeOrientation:"horizontal",swipeDuration:700,swipeBackDuration:300,swipeSlideDistance:10,swipeEasing:"swing",swipeMouseDrag:!0,swipeTouchDrag:!0,swipeGrabCursor:!0,swipeThreshold:50,thumbnailType:"tooltip",thumbnailWidth:80,thumbnailHeight:50,thumbnailSlideAmount:10,thumbnailSlideDuration:300,thumbnailSlideEasing:"swing",thumbnailScrollerToggle:!1,thumbnailScrollerResponsive:!1,thumbnailScrollerCenter:!0,thumbnailScrollDuration:1e3,thumbnailScrollEasing:"swing",maximumVisibleThumbnails:5,minimumVisibleThumbnails:1,thumbnailOrientation:"horizontal",thumbnailLayers:1,thumbnailTooltip:!1,tooltipShowDuration:300,tooltipHideDuration:300,thumbnailCaptionPosition:"bottom",thumbnailCaptionToggle:!0,thumbnailCaptionEffect:"slide",thumbnailCaptionShowDuration:500,thumbnailCaptionHideDuration:500,thumbnailCaptionEasing:"swing",thumbnailScrollbar:!1,thumbnailButtons:!1,thumbnailArrows:!0,thumbnailButtonsToggle:!1,thumbnailArrowsToggle:!1,thumbnailScrollbarToggle:!1,scrollbarArrowScrollAmount:100,thumbnailScrollerHideDuration:500,thumbnailScrollerShowDuration:500,thumbnailArrowsHideDuration:500,thumbnailArrowsShowDuration:500,thumbnailButtonsHideDuration:500,thumbnailButtonsShowDuration:500,thumbnailScrollbarHideDuration:500,thumbnailScrollbarShowDuration:500,thumbnailSync:!0,thumbnailMouseScroll:!1,thumbnailMouseScrollEase:90,thumbnailMouseScrollSpeed:10,thumbnailMouseWheel:!1,thumbnailMouseWheelSpeed:20,thumbnailMouseWheelReverse:!1,thumbnailScrollbarEase:10,captionToggle:!1,captionDelay:0,captionSize:70,captionBackgroundOpacity:.5,captionBackgroundColor:"#000000",captionShowEffect:"slide",captionShowEffectDuration:500,captionShowEffectEasing:"swing",captionShowSlideDirection:"auto",captionHideEffect:"fade",captionHideEffectDuration:300,captionHideEffectEasing:"swing",captionHideSlideDirection:"auto",captionPosition:"bottom",captionLeft:50,captionTop:50,captionWidth:300,captionHeight:100,videoPlayAction:"stopSlideshow",videoPauseAction:"none",videoEndAction:"startSlideshow",reachVideoAction:"none",leaveVideoAction:"pauseVideo",
slideProperties:null,slideOpen:null,slideClick:null,slideMouseOver:null,slideMouseOut:null,thumbnailClick:null,thumbnailMouseOver:null,thumbnailMouseOut:null,transitionStart:null,transitionComplete:null,xmlLoaded:null,doSliderLayout:null}}(jQuery);